<?php/** * Created by www.dadmin.cn * User: imdong * Date: 2018/8/15 * Time: 9:32 */namespace app\member\validate;use think\Validate;use app\member\model\UserModel;class UserValidate1 extends Validate{    protected $rule = [        'account' => 'require|number|length:6,15|checkName:thinkphp',        'password' => 'require|alphaNum|length:6,15',        'repassword' => 'require|confirm:password',    ];    protected $message = [        'account.require' => '请输入手机号',        'account.number' => '请输入正确手机号',        'account.length' => '请输入11位手机号码',        'password.require' => '请输入密码',        'password.alphaNum' => '密码为6-15位字母或数字组合',        'password.length' => '密码为6-15位字母或数字组合',        'repassword.require' => '确认密码不能为空！',        'repassword.confirm' => '两次输入的密码不一致！',    ];    // 验证用户名    protected function checkName($value, $rule, $data)    {        $model = new UserModel();        $user = $model->where('account|phone', $value)->field('id')->find();        return empty($user) ? true : '手机号已被使用';    }    protected $scene = [        'account' => ['account'],        'password' => ['password', 'repassword']    ];}